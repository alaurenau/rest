ext {
    jerseyVersion = '2.24'
    jacksonVersion = '2.8.4'
    springVersion = '4.3.3.RELEASE'
    testngVersion = '6.9.12'
}

allprojects {
    group = 'org.lavr'
    version = '0.1'
}

subprojects {
    apply plugin: 'java'

    repositories {
        mavenCentral()
        jcenter()
    }

    test {
        useTestNG() {
            suites "src/test/resources/testng.xml"
        }
        testLogging {
            // Enable full logging for tests execution
            setLifecycle(testLogging.debug)
            // Run tests in forks, in chunks of 5
            forkEvery = 5
            maxParallelForks = Runtime.runtime.availableProcessors()
        }
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '3.1'
    // Ensure downloading zip with sources and docs
    distributionUrl = "https://services.gradle.org/distributions/gradle-${gradleVersion}-all.zip"
}
